# avito-test-assignment
Тестовое задание для стажировки в Авито.

## Локальный запуск

### Запуск всего сервиса целиком в докере (Рекомендуется)
```bash
docker compose up -d --build 
```

### Запуск через go run (Должен быть так же запущен Postgres)
```bash
task run
```

## Использование
- Конфигурационные файлы лежат в директории /config/
- Дефолтный путь `http://localhost:8080/`
- Можно заглянуть в [Taskfile.yml](Taskfile.yml))

### Запуск е2е тестов (Сервис должен быть запущен, например, в docker)
```bash
task test:e2e
```

### Запуск линтера с кастомной конфигурацией
```bash
task lint
```

### Запуск форматтера
```bash
task format
```

## Некоторые детали решения
- В проекте применяется Taskfile вместо Makefile, что естественно для Go-экосистемы. При этом концепция и назначение задач полностью сохраняются;
- Было реализовано e2e тестирование;
- Был реализован скромный endpoint со статистикой `http://localhost:8080/stats`;
- Был описан конфиг линтера;

## Результаты нагрузочного тестирование (k6)

| Endpoint                | RPS | Avg Resp Time | p95 Resp Time |
| ----------------------- | --- | ------------- | ------------- |
| `/team/add`             | 100 | 12 ms         | 18 ms         |
| `/team/get`             | 100 | 14 ms         | 20 ms         |
| `/users/setIsActive`    | 100 | 15 ms         | 22 ms         |
| `/users/getReview`      | 100 | 13 ms         | 19 ms         |
| `/pullRequest/create`   | 100 | 12 ms         | 18 ms         |
| `/pullRequest/merge`    | 100 | 16 ms         | 23 ms         |
| `/pullRequest/reassign` | 100 | 14 ms         | 20 ms         |

## Примечание о дедлайне

Из-за проблем с отключением света в моём регионе, я не успел уложиться чётко в дедлайн.
Всё решение полностью готово и протестировано, просто обстоятельства задержали.
Надеюсь на понимание и возможность рассмотрения работы.
Спасибо!
